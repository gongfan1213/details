### 面试话术｜前端交互与实时渲染

- 一句话简介：聊天式交互 + 计划/任务/文件的可视化实时渲染，聚焦“过程可见、结果可用”。

#### 职责（20s）
- 负责 ChatView/Dialogue/ActionView/ActionPanel 设计与流式渲染性能优化

#### 实现要点（1-2min）
- 核心组件：
  - `ui/src/components/ChatView/index.tsx`：主视图与消息派发
  - `ActionView`：浏览/文件/计划四视图切换
  - `ActionPanel`：HTML/Markdown/Table/File/SearchList 多渲染器
- SSE：`ui/src/utils/querySSE.ts` 增量接收，按 `messageType` 更新局部状态
- 性能：`useMemo/useCallback`、`React.memo`、懒加载、滚动锚点

#### 问题与解决
- 问题1：流式频繁 setState 抖动
  - 方案：批量/节流更新；按消息类型分片更新
- 问题2：滚动错位与首屏闪烁
  - 方案：`PanelProvider` 统一 `scrollToBottom`；占位骨架
- 问题3：多种内容类型渲染不一致
  - 方案：渲染器抽象与统一样式规范；下载/预览链路打通

#### 指标
- 首屏可交互 < 1.5s（本地构建）
- 大任务期间 UI 掉帧显著减少（按性能面板）

#### Q&A
- Q：如何保证“过程可见”？
  - A：计划、工具思考、工具结果与最终结论均以独立事件渲染；用户可以随时预览产物。

#### 演进
- 虚拟列表引入；更细的任务颗粒与状态对齐
