# 监控告警与性能优化系统｜技术面试话术

## 一句话定位
- 以可观测性为抓手，覆盖接口/LLM/队列/存储四条主链路的指标、日志与告警联动。

## 架构要点
- 指标：请求量、延迟、错误率、LLM token、缓存命中、队列深度、回放耗时。
- 追踪：LangSmith Trace + 结构化日志（`utils/logger.py`）。
- 告警：`utils/alerts/*`（飞书等）；阈值与抖动保护。
- 压测：`press_test/*` 脚本，支持并发、RPS、SSE 验收。

## 难点与解决
- 假阳性/噪声：多指标相关告警，抑制抖动，合并窗口。
- 性能瓶颈：水位图 + Trace 查关键路径（外部搜索/LLM/队列）；分而治之（并发/限流/缓存/池化）。
- 级联故障：熔断/降级/限流 + 备用通道（例如关键词检索回退）。

## 指标与收益
- 故障发现时间缩短；P95 延迟下降；大幅减少手工排障时间。

## 可扩展 & 高可用
- 指标与告警策略可按租户/业务线覆写；金丝雀阈值验证。

## Demo 话术
- 演示一次异常链路：告警→定位→限流/降级→恢复的闭环。

## 追问与答法
- Q：如何避免过度告警？
  - A：SLO 驱动 + 多维度阈值 + 关联分析 + 自动静默策略。
