# 面试话术｜高可用与容错（限流/熔断/降级/重试/幂等）

## 1. 我做了什么（30s 概述）
- 建立从入口到数据层的容错体系：网关与服务侧的限流/熔断/降级；关键调用重试与幂等；读写分离与多副本部署；灰度与回滚。

## 2. 技术要点
- Sentinel 规则：按 URI/路由/调用方限流、熔断；
- 重试：OpenFeign 退避；
- 幂等：业务键 + 去重表；
- 发布：蓝绿/金丝雀 + 缓存预热。

## 3. 遇到的问题（难点）
1) 误触发熔断与过度重试放大流量；
2) 降级后的用户体验与数据准确性。

## 4. 解决方案与取舍
- 规则分层：按接口与调用方拆分阈值；关键链路单列；
- 重试范围：只对读与幂等写；设置最大次数与退避；
- 降级：提供兜底数据与缓存，标注“非实时”。

## 5. 效果
- 故障期间系统保持可用；峰值期稳定通过限流保护核心业务。

## 6. 面试官追问
- 问：如何验证容错体系有效？
  - 答：故障演练：断网/限流/停实例/停库；压测评估；设置 SLO 与误差预算。
