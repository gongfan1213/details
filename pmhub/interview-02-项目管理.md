# 面试话术｜项目管理（项目/任务/成员/文件/统计）

## 1. 我做了什么（30s 概述）
- 负责项目域建模与功能落地：项目/阶段/任务/成员/文件，以及首页统计、进度排行、任务状态看板。
- 打通工作流模块，实现任务/项目审批串联。

## 2. 核心能力与技术选型
- 后端：Spring Boot + MyBatis-Plus，领域服务清晰；统计查询走只读库/索引优化。
- 前端：看板拖拽、甘特图/ECharts，批量操作与筛选。
- 集成：与工作流（Flowable）联动审批，与系统用户/部门/权限打通。

## 3. 遇到的问题（难点）
1) 任务状态流转复杂（TODO/IN_PROGRESS/REVIEW/DONE/BLOCKED），跨多人并行处理。
2) 首页统计慢：多维聚合（项目数、任务数、逾期、状态占比、排行）。
3) 文件管理权限：项目成员/角色维度的细粒度控制，联动任务权限。
4) “与我有关的项目”查询性能：涉及成员、角色、部门多表关联。

## 4. 我的解决方案与取舍
- 状态机：
  - 方案：封装任务状态变更服务，校验合法流转；对外暴露统一 `updateStatus`，记录变更日志并异步发通知。
  - 取舍：暂不做可视化状态机编辑，优先落地稳定规则。
- 统计优化：
  - 方案：核心指标预计算 + 定时刷新；非关键指标延迟计算；热区数据走 Redis 缓存+短TTL。
  - 取舍：一致性与性能平衡，保障首页首屏 < 200ms。
- 文件权限：
  - 方案：文件元数据含 `projectId/taskId`，下载前基于 RBAC + 成员关系二次校验；对外统一流式下载避免直链越权。
  - 取舍：牺牲一点直链性能换安全；大文件支持断点续传。
- 关联查询：
  - 方案：用户-成员-项目 关系打平到“成员视图表/物化视图”或缓存集合，查询直接命中；变更通过事件刷新。
  - 取舍：牺牲一点实时性，换取 95% 场景稳定低时延。

## 5. 效果与数据
- 看板核心操作首屏 < 200ms，状态拖拽更新 TP99 < 100ms。
- 首页统计 QPS 3x 提升，缓存命中率 > 85%。

## 6. 可扩展与优化
- 任务模板与项目模板；子任务/依赖链图谱；成员负载均衡建议。
- 搜索：ES 接入全文检索文件/评论内容。

## 7. 面试官可能追问点
- 问：如何保证项目进度百分比的准确性？
  - 答：按任务优先级/工时设置权重计算；对异常状态（BLOCKED）有折算因子，避免虚高。
- 问：逾期任务的提醒策略？
  - 答：T-1/T-3 天延时消息提醒 + 当日定时任务；按负责人与抄送人分级推送。
