# 面试话术｜接口规范（鉴权/分页/错误码/幂等）

## 1. 我做了什么（30s 概述）
- 统一接口标准：鉴权、分页、错误码、幂等键；对齐后端响应与前端适配，提升联调效率与可维护性。

## 2. 技术要点
- 鉴权：`Authorization: Bearer`；内部调用 `@InnerAuth`。
- 分页：统一 `{list,total,size,current,...}`；
- 错误码：200/400/401/403/404/409/429/500；
- 幂等：Idempotency-Key + 服务端幂等表（关键写）。

## 3. 遇到的问题（难点）
1) 不同模块响应结构不一致；
2) 幂等键冲突与客户端重试。

## 4. 解决方案与取舍
- 统一响应：抽象 `AjaxResult/R`；失败体带 `requestId/path`。
- 幂等：关键写路径启用；读或非关键写不强制，减少复杂度。

## 5. 效果
- 前后端联调时间下降 30%+；线上重试引发的重复写显著减少。

## 6. 面试官追问
- 问：如何做 API 版本兼容？
  - 答：网关路由按版本分流；响应体保留兼容字段；逐步下线老版本。
