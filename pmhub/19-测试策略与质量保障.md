# 测试策略与质量保障

## 1. 目标
- 覆盖核心路径，保证稳定性与回归效率
- 关键链路（登录、权限、项目、流程）重点守护

## 2. 测试金字塔
- 单元测试（多）：领域服务/工具类，Mock 依赖
- 集成测试（中）：持久层、接口联通、配置加载
- 合同测试（中）：Feign 契约、接口 schema 校验
- E2E（少）：前后端联调关键业务流程

## 3. 数据与环境
- 独立测试库，Liquibase/SQL 初始化
- 固定测试账号与数据集
- 隔离外部依赖（Redis/MQ 可本地/容器）

## 4. 关键用例
- 认证与权限：登录、Token过期、权限拦截
- 项目：创建/编辑/删除、统计、成员权限
- 任务：创建/分配/状态流转、逾期统计
- 工作流：发起/待办/签收/通过/驳回、表单校验
- 文件：上传/下载/权限

## 5. 自动化与CI
- 触发：PR/主干 push
- 步骤：编译→单测→打包→镜像→扫描（可选）
- 质量门禁：覆盖率阈值、静态扫描（SpotBugs/ESLint）

## 6. 性能与稳定
- 压测：登录、列表、统计、审批高频接口
- 可靠性：失败注入（熔断/限流/超时）与重试验证

## 7. 度量
- 缺陷密度、平均修复时长
- 构建成功率、发布回滚率
- 核心接口可用性与99分位延迟
