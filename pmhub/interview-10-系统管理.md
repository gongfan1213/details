# 面试话术｜系统管理（用户/角色/菜单/部门/字典/参数/日志）

## 1. 我做了什么（30s 概述）
- 负责系统域建设：用户/角色/菜单/部门/字典/参数等通用能力，作为所有业务的底座；统一审计与操作/登录日志。

## 2. 技术要点
- RBAC 权限模型与数据权限；参数/字典缓存；操作日志 AOP；导入导出、在线用户、缓存/连接池监控。

## 3. 遇到的问题（难点）
1) 权限颗粒不一：菜单/按钮/数据权限易混用；
2) 大规模导出/导入带来的内存与锁竞争；
3) 字典/参数变更的时效性与一致性。

## 4. 解决方案与取舍
- 权限规范：
  - 方案：菜单与按钮分层，接口 `@RequiresPermissions` 必须与前端 perms 对齐；数据权限单独注解。
- 导入导出：
  - 方案：流式导出、分页游标；导入异步并校验报告。
- 配置一致性：
  - 方案：Redis 缓存 + 事件失效；变更广播到在线实例。

## 5. 效果与数据
- 统一权限命中率 100%；导出 10w 行内存稳定，耗时 < 20s（分页+流式）

## 6. 面试官追问
- 问：如何做“数据权限”的越权防护？
  - 答：所有查询入口统一 `@DataScope`；避免在 Controller 拼接；敏感接口做二次校验（如本人/本部门）。
