# 面试话术｜数据与缓存（MySQL + Redis）

## 1. 我做了什么（30s 概述）
- 数据层分域建库（system/project/workflow），关键字段与组合索引优化；热点接口引入分层缓存（本地/Redis），并处理穿透/击穿/雪崩问题。

## 2. 技术要点
- 审计字段与逻辑删除；MyBatis-Plus 通用 CRUD；读写分离（可选）。
- 缓存：Key 规范、TTL 策略、布隆过滤、互斥锁、随机过期。

## 3. 遇到的问题（难点）
1) 首页统计/看板查询压力大；
2) 缓存一致性与失效风暴；
3) 大查询与排序分页慢。

## 4. 解决方案与取舍
- 统计与看板：预计算 + 定时刷新 + 热点缓存；异步落库。
- 一致性：写后删缓存或延迟双删；关键数据用消息通知失效。
- 大分页：游标/时间戳分页；必要时引入 ES；分页只查必要字段。

## 5. 效果与数据
- 首页 QPS 提升 3x；核心接口平均延时下降 40%+；缓存命中率 > 85%。

## 6. 面试官追问
- 问：如何取舍“写后删缓存”与“先删后写”？
  - 答：多数场景采用“写后删”，并在并发高峰期结合延迟双删；强一致路径结合队列通知。
