# SeleniumËØ¶ÁªÜÊïôÁ®ã - Âü∫‰∫éSteel-BrowserÈ°πÁõÆÂÆûÊàò

## ÁõÆÂΩï
1. [ÁéØÂ¢ÉÂáÜÂ§á](#ÁéØÂ¢ÉÂáÜÂ§á)
2. [Âü∫Á°ÄÊ¶ÇÂøµ](#Âü∫Á°ÄÊ¶ÇÂøµ)
3. [Ê†∏ÂøÉÊû∂ÊûÑ](#Ê†∏ÂøÉÊû∂ÊûÑ)
4. [ÂÆûÊàòÁ§∫‰æã](#ÂÆûÊàòÁ§∫‰æã)
5. [È´òÁ∫ßÂäüËÉΩ](#È´òÁ∫ßÂäüËÉΩ)
6. [ÊúÄ‰Ω≥ÂÆûË∑µ](#ÊúÄ‰Ω≥ÂÆûË∑µ)
7. [ÊïÖÈöúÊéíÈô§](#ÊïÖÈöúÊéíÈô§)

## ÁéØÂ¢ÉÂáÜÂ§á

### 1. ÂàõÂª∫È°πÁõÆÁõÆÂΩï

```bash
# ÂàõÂª∫È°πÁõÆÁõÆÂΩï
mkdir selenium-project
cd selenium-project

# ÂàùÂßãÂåñNode.jsÈ°πÁõÆ
npm init -y

# ÂÆâË£ÖSeleniumÁõ∏ÂÖ≥‰æùËµñ
npm install selenium-webdriver
npm install chromedriver

# ÂÆâË£ÖTypeScriptÂíåÂºÄÂèëÂ∑•ÂÖ∑
npm install -D typescript @types/node ts-node
npm install -D @types/selenium-webdriver

# ÂàõÂª∫TypeScriptÈÖçÁΩÆÊñá‰ª∂
npx tsc --init
```

### 2. ÁéØÂ¢ÉÈÖçÁΩÆ

```bash
# ÂàõÂª∫.envÊñá‰ª∂ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè
cat > .env << EOF
SELENIUM_SERVER_URL=http://localhost:4444
CHROME_DRIVER_PATH=./node_modules/chromedriver/lib/chromedriver/chromedriver
CHROME_BINARY_PATH=/Applications/Google Chrome.app/Contents/MacOS/Google Chrome
EOF
```

### 3. È™åËØÅÂÆâË£Ö

```typescript
import { Builder, By, until } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function testSeleniumInstallation() {
  console.log('üöÄ ÊµãËØïSeleniumÂÆâË£Ö...');
  
  try {
    // ÈÖçÁΩÆChromeÈÄâÈ°π
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    options.addArguments('--disable-dev-shm-usage');
    
    // ÂàõÂª∫WebDriverÂÆû‰æã
    const driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ÂØºËà™Âà∞ÊµãËØïÈ°µÈù¢
    await driver.get('https://example.com');
    
    // Ëé∑ÂèñÈ°µÈù¢Ê†áÈ¢ò
    const title = await driver.getTitle();
    console.log(`È°µÈù¢Ê†áÈ¢ò: ${title}`);
    
    // ÂÖ≥Èó≠ÊµèËßàÂô®
    await driver.quit();
    console.log('‚úÖ SeleniumÂÆâË£ÖÊàêÂäüÔºÅ');
  } catch (error) {
    console.error('‚ùå SeleniumÂÆâË£ÖÂ§±Ë¥•:', error);
  }
}

testSeleniumInstallation().catch(console.error);
```

## Âü∫Á°ÄÊ¶ÇÂøµ

### 1. SeleniumÊ†∏ÂøÉÁªÑ‰ª∂

#### WebDriver
- **ChromeDriver**: ChromeÊµèËßàÂô®ÁöÑWebDriverÂÆûÁé∞
- **GeckoDriver**: FirefoxÊµèËßàÂô®ÁöÑWebDriverÂÆûÁé∞
- **EdgeDriver**: EdgeÊµèËßàÂô®ÁöÑWebDriverÂÆûÁé∞

#### WebElement
- È°µÈù¢ÂÖÉÁ¥†ÁöÑÊäΩË±°Ë°®Á§∫
- ÊîØÊåÅÁÇπÂáª„ÄÅËæìÂÖ•„ÄÅËé∑ÂèñÂ±ûÊÄßÁ≠âÊìç‰Ωú

#### By
- ÂÖÉÁ¥†ÂÆö‰ΩçÁ≠ñÁï•
- ÊîØÊåÅID„ÄÅCSSÈÄâÊã©Âô®„ÄÅXPathÁ≠âÂ§öÁßçÊñπÂºè

### 2. Steel-Browser SeleniumÊû∂ÊûÑÊ¶ÇËßà

```
Steel-Browser Selenium
‚îú‚îÄ‚îÄ SeleniumService (SeleniumÊúçÂä°)
‚îÇ   ‚îú‚îÄ‚îÄ Selenium Server (SeleniumÊúçÂä°Âô®)
‚îÇ   ‚îú‚îÄ‚îÄ ChromeDriver (ChromeÈ©±Âä®)
‚îÇ   ‚îî‚îÄ‚îÄ Session Management (‰ºöËØùÁÆ°ÁêÜ)
‚îú‚îÄ‚îÄ SessionService (‰ºöËØùÊúçÂä°)
‚îÇ   ‚îú‚îÄ‚îÄ Browser Launcher (ÊµèËßàÂô®ÂêØÂä®Âô®)
‚îÇ   ‚îî‚îÄ‚îÄ Context Manager (‰∏ä‰∏ãÊñáÁÆ°ÁêÜÂô®)
‚îî‚îÄ‚îÄ WebDriver Protocol (WebDriverÂçèËÆÆ)
    ‚îú‚îÄ‚îÄ HTTP API (HTTPÊé•Âè£)
    ‚îî‚îÄ‚îÄ JSON Wire Protocol (JSONÁ∫øÂçèËÆÆ)
```

## Ê†∏ÂøÉÊû∂ÊûÑ

### 1. SeleniumServiceÁ±ªËØ¶Ëß£

Âü∫‰∫é `steel-browser/api/src/services/selenium.service.ts`Ôºö

```typescript
import { EventEmitter } from "events";
import { ChildProcess, spawn } from "child_process";
import { BrowserLauncherOptions, BrowserEvent, BrowserEventType } from "../types/index.js";
import path, { dirname } from "path";
import { FastifyBaseLogger } from "fastify";
import { fileURLToPath } from "url";

export class SeleniumService extends EventEmitter {
  private seleniumProcess: ChildProcess | null = null;
  private seleniumServerUrl: string = "http://localhost:4444";
  private port: number = 4444;
  private launchOptions?: BrowserLauncherOptions;
  private logger: FastifyBaseLogger;

  constructor(logger: FastifyBaseLogger) {
    super();
    this.logger = logger;
  }

  public async getChromeArgs(): Promise<string[]> {
    const { options, userAgent } = this.launchOptions ?? {};
    return [
      "disable-dev-shm-usage",
      "no-sandbox",
      "enable-javascript",
      userAgent ? `user-agent=${userAgent}` : "",
      options?.proxyUrl ? `proxy-server=${options.proxyUrl}` : "",
      ...(options?.args?.map((arg) => (arg.startsWith("--") ? arg.slice(2) : arg)) || []),
    ].filter(Boolean);
  }

  public async launch(launchOptions: BrowserLauncherOptions): Promise<void> {
    this.launchOptions = launchOptions;

    if (this.seleniumProcess) {
      await this.close();
    }

    const projectRoot = path.resolve(dirname(fileURLToPath(import.meta.url)), "../../");
    const seleniumServerPath = path.join(projectRoot, "selenium", "server", "selenium-server.jar");

    const seleniumArgs = ["-jar", seleniumServerPath, "standalone"];

    this.seleniumProcess = spawn("java", seleniumArgs);
    this.seleniumServerUrl = `http://localhost:${this.port}`;

    this.seleniumProcess.stdout?.on("data", (data) => {
      this.logger.info(`Selenium stdout: ${data}`);
      this.postLog({
        type: BrowserEventType.Console,
        text: JSON.stringify({ type: BrowserEventType.Console, message: `${data}` }),
        timestamp: new Date(),
      });
    });

    this.seleniumProcess.stderr?.on("data", (data) => {
      this.logger.error(`Selenium stderr: ${data}`);
      this.postLog({
        type: BrowserEventType.Error,
        text: JSON.stringify({ type: BrowserEventType.Error, error: `${data}` }),
        timestamp: new Date(),
      });
    });

    this.seleniumProcess.on("close", (code) => {
      this.logger.info(`Selenium process exited with code ${code}`);
      this.seleniumProcess = null;
    });

    await new Promise<void>((resolve, reject) => {
      const timeout = setTimeout(() => {
        reject(new Error("Selenium server failed to start within the timeout period"));
      }, 15000); // 15 seconds timeout

      this.seleniumProcess!.stdout?.on("data", (data) => {
        if (data.toString().includes("Started Selenium Standalone")) {
          clearTimeout(timeout);
          resolve();
        }
      });
    });
  }

  public close(): void {
    if (this.seleniumProcess) {
      this.seleniumProcess.kill("SIGINT");
      this.seleniumProcess = null;
    }
  }

  public getSeleniumServerUrl(): string {
    return this.seleniumServerUrl;
  }

  private async postLog(browserLog: BrowserEvent) {
    if (!this.launchOptions?.logSinkUrl) {
      return;
    }
    await fetch(this.launchOptions.logSinkUrl, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(browserLog),
    });
  }
}
```

### 2. ‰ºöËØùÁÆ°ÁêÜÁ§∫‰æã

Âü∫‰∫é `steel-browser/api/src/services/session.service.ts`Ôºö

```typescript
import { SessionService } from "./session.service.js";
import { SeleniumService } from "./selenium.service.js";

export class SessionService {
  private logger: FastifyBaseLogger;
  private cdpService: CDPService;
  private seleniumService: SeleniumService;
  private activeSession: SessionDetails;

  constructor(config: {
    cdpService: CDPService;
    seleniumService: SeleniumService;
  }) {
    this.logger = config.logger;
    this.cdpService = config.cdpService;
    this.seleniumService = config.seleniumService;
    this.activeSession = new SessionDetails();
  }

  public async startSession(options: {
    sessionId?: string;
    proxyUrl?: string;
    userAgent?: string;
    sessionContext?: {
      cookies?: CookieData[];
      localStorage?: Record<string, Record<string, any>>;
    };
    isSelenium?: boolean;
    logSinkUrl?: string;
    blockAds?: boolean;
    extensions?: string[];
    timezone?: string;
    dimensions?: { width: number; height: number };
    extra?: Record<string, Record<string, string>>;
    credentials: CredentialsOptions;
    skipFingerprintInjection?: boolean;
    userPreferences?: Record<string, any>;
  }): Promise<SessionDetails> {
    
    const {
      sessionId,
      proxyUrl,
      userAgent,
      sessionContext,
      isSelenium = false,
      logSinkUrl,
      blockAds,
      extensions,
      timezone,
      dimensions,
      extra,
      credentials,
      skipFingerprintInjection,
      userPreferences,
    } = options;

    const defaultUserPreferences = {
      plugins: {
        always_open_pdf_externally: true,
        plugins_disabled: ["Chrome PDF Viewer"],
      },
    };

    const mergedUserPreferences = userPreferences
      ? deepMerge(defaultUserPreferences, userPreferences)
      : defaultUserPreferences;

    const browserLauncherOptions: BrowserLauncherOptions = {
      options: {
        headless: env.CHROME_HEADLESS,
        proxyUrl: this.activeSession.proxyServer?.url,
      },
      sessionContext,
      userAgent,
      blockAds,
      extensions: extensions || [],
      logSinkUrl,
      timezone: timezonePromise,
      dimensions,
      userDataDir,
      userPreferences: mergedUserPreferences,
      extra,
      credentials,
      skipFingerprintInjection,
    };

    if (isSelenium) {
      await this.cdpService.shutdown();
      await this.seleniumService.launch(browserLauncherOptions);

      Object.assign(this.activeSession, {
        websocketUrl: "",
        debugUrl: "",
        sessionViewerUrl: "",
        userAgent:
          userAgent ||
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36",
      });

      return this.activeSession;
    } else {
      await this.cdpService.startNewSession(browserLauncherOptions);

      Object.assign(this.activeSession, {
        websocketUrl: getBaseUrl("ws"),
        debugUrl: getUrl("v1/sessions/debug"),
        debuggerUrl: getUrl("v1/devtools/inspector.html"),
        sessionViewerUrl: getBaseUrl(),
        userAgent:
          this.cdpService.getUserAgent() ||
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36",
      });
    }

    return this.activeSession;
  }

  public async endSession(): Promise<SessionDetails> {
    this.activeSession.complete();
    
    if (this.activeSession.isSelenium) {
      this.seleniumService.close();
    } else {
      await this.cdpService.shutdown();
    }
    
    return this.activeSession;
  }
}
```

## ÂÆûÊàòÁ§∫‰æã

### 1. Âü∫Á°ÄÊêúÁ¥¢Á§∫‰æã

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function basicSearchExample() {
  console.log('üîç ÂºÄÂßãÂü∫Á°ÄÊêúÁ¥¢Á§∫‰æã...');
  
  let driver: WebDriver;
  
  try {
    // ÈÖçÁΩÆChromeÈÄâÈ°π
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    options.addArguments('--disable-dev-shm-usage');
    options.addArguments('--disable-blink-features=AutomationControlled');
    
    // ÂàõÂª∫WebDriverÂÆû‰æã
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ËÆæÁΩÆÁ™óÂè£Â§ßÂ∞è
    await driver.manage().window().setRect({ width: 1280, height: 800 });
    
    // ÂØºËà™Âà∞ÁôæÂ∫¶
    console.log('üåê ÂØºËà™Âà∞ÁôæÂ∫¶È¶ñÈ°µ...');
    await driver.get('https://www.baidu.com');
    
    // Á≠âÂæÖÊêúÁ¥¢Ê°ÜÂä†ËΩΩ
    const searchBox = await driver.wait(until.elementLocated(By.id('kw')), 10000);
    
    // ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç
    console.log('üîç ÊêúÁ¥¢"SeleniumÊïôÁ®ã"...');
    await searchBox.sendKeys('SeleniumÊïôÁ®ã');
    
    // ÁÇπÂáªÊêúÁ¥¢ÊåâÈíÆ
    const searchButton = await driver.findElement(By.id('su'));
    await searchButton.click();
    
    // Á≠âÂæÖÊêúÁ¥¢ÁªìÊûúÂä†ËΩΩ
    await driver.wait(until.elementLocated(By.id('content_left')), 10000);
    
    // Ëé∑ÂèñÊêúÁ¥¢ÁªìÊûú
    const searchResults = await driver.findElements(By.css('.result'));
    
    console.log('üìã ÊêúÁ¥¢ÁªìÊûú:');
    for (let i = 0; i < Math.min(searchResults.length, 5); i++) {
      const result = searchResults[i];
      
      try {
        const titleElement = await result.findElement(By.css('h3'));
        const title = await titleElement.getText();
        
        const linkElement = await result.findElement(By.css('a'));
        const link = await linkElement.getAttribute('href');
        
        const snippetElement = await result.findElement(By.css('.c-abstract'));
        const snippet = await snippetElement.getText();
        
        console.log(`${i + 1}. ${title}`);
        console.log(`   ÈìæÊé•: ${link}`);
        console.log(`   ÊëòË¶Å: ${snippet.substring(0, 100)}...`);
        console.log('');
      } catch (error) {
        console.log(`ÁªìÊûú ${i + 1}: Ëß£ÊûêÂ§±Ë¥•`);
      }
    }
    
    // Êà™Âõæ‰øùÂ≠ò
    const screenshot = await driver.takeScreenshot();
    const fs = require('fs');
    fs.writeFileSync('search_results.png', screenshot, 'base64');
    console.log('üì∏ Êà™ÂõæÂ∑≤‰øùÂ≠ò‰∏∫ search_results.png');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}

basicSearchExample().catch(console.error);
```

### 2. Ë°®ÂçïÂ°´ÂÜôÁ§∫‰æã

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function formFillingExample() {
  console.log('üìù ÂºÄÂßãË°®ÂçïÂ°´ÂÜôÁ§∫‰æã...');
  
  let driver: WebDriver;
  
  try {
    // ÈÖçÁΩÆChromeÈÄâÈ°π
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    options.addArguments('--disable-dev-shm-usage');
    
    // ÂàõÂª∫WebDriverÂÆû‰æã
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ÂØºËà™Âà∞ÊµãËØïË°®ÂçïÈ°µÈù¢
    await driver.get('https://httpbin.org/forms/post');
    
    // Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩ
    await driver.wait(until.elementLocated(By.name('custname')), 10000);
    
    // Â°´ÂÜôË°®ÂçïÂ≠óÊÆµ
    console.log('‚úçÔ∏è Â°´ÂÜôË°®Âçï...');
    
    await driver.findElement(By.name('custname')).sendKeys('Âº†‰∏â');
    await driver.findElement(By.name('custtel')).sendKeys('138-1234-5678');
    await driver.findElement(By.name('custemail')).sendKeys('zhangsan@example.com');
    
    // ÈÄâÊã©‰∏ãÊãâËèúÂçï
    const sizeSelect = await driver.findElement(By.name('size'));
    await sizeSelect.findElement(By.css('option[value="medium"]')).click();
    
    const toppingSelect = await driver.findElement(By.name('topping'));
    await toppingSelect.findElement(By.css('option[value="cheese"]')).click();
    
    const deliverySelect = await driver.findElement(By.name('delivery'));
    await deliverySelect.findElement(By.css('option[value="now"]')).click();
    
    // Â°´ÂÜôÂ§áÊ≥®
    await driver.findElement(By.name('comments')).sendKeys('ËøôÊòØ‰∏Ä‰∏™ÊµãËØïË°®ÂçïÊèê‰∫§');
    
    // Êèê‰∫§Ë°®Âçï
    console.log('üì§ Êèê‰∫§Ë°®Âçï...');
    await driver.findElement(By.css('input[type="submit"]')).click();
    
    // Á≠âÂæÖÂìçÂ∫îÈ°µÈù¢Âä†ËΩΩ
    await driver.wait(until.elementLocated(By.tagName('pre')), 10000);
    
    // Ëé∑ÂèñÂìçÂ∫îÂÜÖÂÆπ
    const responseElement = await driver.findElement(By.tagName('pre'));
    const responseText = await responseElement.getText();
    console.log('üìÑ Ë°®ÂçïÊèê‰∫§ÂìçÂ∫î:');
    console.log(responseText);
    
    // Êà™Âõæ‰øùÂ≠ò
    const screenshot = await driver.takeScreenshot();
    const fs = require('fs');
    fs.writeFileSync('form_response.png', screenshot, 'base64');
    console.log('üì∏ ÂìçÂ∫îÊà™ÂõæÂ∑≤‰øùÂ≠ò‰∏∫ form_response.png');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}

formFillingExample().catch(console.error);
```

### 3. Êï∞ÊçÆÊèêÂèñÁ§∫‰æã

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';
import * as fs from 'fs';

async function dataExtractionExample() {
  console.log('üìä ÂºÄÂßãÊï∞ÊçÆÊèêÂèñÁ§∫‰æã...');
  
  let driver: WebDriver;
  
  try {
    // ÈÖçÁΩÆChromeÈÄâÈ°π
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    options.addArguments('--disable-dev-shm-usage');
    
    // ÂàõÂª∫WebDriverÂÆû‰æã
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ÂØºËà™Âà∞Êñ∞ÈóªÁΩëÁ´ô
    await driver.get('https://news.ycombinator.com');
    
    // Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩ
    await driver.wait(until.elementLocated(By.css('.athing')), 10000);
    
    // ÊèêÂèñÊñ∞ÈóªÊ†áÈ¢òÂíåÈìæÊé•
    console.log('üì∞ ÊèêÂèñÊñ∞ÈóªÊï∞ÊçÆ...');
    const newsElements = await driver.findElements(By.css('.athing'));
    
    const newsData = [];
    for (let i = 0; i < Math.min(newsElements.length, 10); i++) {
      const element = newsElements[i];
      
      try {
        const titleElement = await element.findElement(By.css('.titleline a'));
        const title = await titleElement.getText();
        const link = await titleElement.getAttribute('href');
        
        // Ëé∑ÂèñÂàÜÊï∞Âíå‰ΩúËÄÖ‰ø°ÊÅØ
        const nextElement = await driver.executeScript(
          'return arguments[0].nextElementSibling;', 
          element
        );
        
        let score = '0 points';
        let author = 'Unknown';
        
        if (nextElement) {
          try {
            const scoreElement = await nextElement.findElement(By.css('.score'));
            score = await scoreElement.getText();
          } catch (error) {
            // ÂøΩÁï•ÈîôËØØ
          }
          
          try {
            const authorElement = await nextElement.findElement(By.css('.hnuser'));
            author = await authorElement.getText();
          } catch (error) {
            // ÂøΩÁï•ÈîôËØØ
          }
        }
        
        newsData.push({
          title,
          link,
          score,
          author
        });
        
        console.log(`${i + 1}. ${title}`);
        console.log(`   ÂàÜÊï∞: ${score} | ‰ΩúËÄÖ: ${author}`);
        console.log(`   ÈìæÊé•: ${link}`);
        console.log('');
        
      } catch (error) {
        console.log(`Êñ∞Èóª ${i + 1}: Ëß£ÊûêÂ§±Ë¥•`);
      }
    }
    
    // ‰øùÂ≠òÊï∞ÊçÆÂà∞JSONÊñá‰ª∂
    const jsonData = JSON.stringify(newsData, null, 2);
    fs.writeFileSync('news_data.json', jsonData);
    console.log('üíæ Êï∞ÊçÆÂ∑≤‰øùÂ≠òÂà∞ news_data.json');
    
    // ÁîüÊàêCSVÊ†ºÂºè
    const csvHeader = 'Title,Score,Author,Link\n';
    const csvRows = newsData.map(item => 
      `"${item.title}","${item.score}","${item.author}","${item.link}"`
    ).join('\n');
    const csvData = csvHeader + csvRows;
    fs.writeFileSync('news_data.csv', csvData);
    console.log('üíæ Êï∞ÊçÆÂ∑≤‰øùÂ≠òÂà∞ news_data.csv');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}

dataExtractionExample().catch(console.error);
```

## È´òÁ∫ßÂäüËÉΩ

### 1. Á≠âÂæÖÁ≠ñÁï•

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function waitStrategiesExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    await driver.get('https://example.com');
    
    // 1. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖÂÖÉÁ¥†Âá∫Áé∞
    const element = await driver.wait(until.elementLocated(By.id('my-element')), 10000);
    
    // 2. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖÂÖÉÁ¥†ÂèØËßÅ
    await driver.wait(until.elementIsVisible(element), 10000);
    
    // 3. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖÂÖÉÁ¥†ÂèØÁÇπÂáª
    await driver.wait(until.elementIsEnabled(element), 10000);
    
    // 4. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖÊñáÊú¨Âá∫Áé∞
    await driver.wait(until.elementTextContains(element, 'expected text'), 10000);
    
    // 5. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖÈ°µÈù¢Ê†áÈ¢ò
    await driver.wait(until.titleIs('Expected Title'), 10000);
    
    // 6. ÊòæÂºèÁ≠âÂæÖ - Á≠âÂæÖURLÂèòÂåñ
    await driver.wait(until.urlContains('expected-url'), 10000);
    
    // 7. Ëá™ÂÆö‰πâÁ≠âÂæÖÊù°‰ª∂
    await driver.wait(async () => {
      const elements = await driver.findElements(By.css('.dynamic-content'));
      return elements.length > 0;
    }, 10000);
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 2. ÈîÆÁõòÂíåÈº†Ê†áÊìç‰Ωú

```typescript
import { Builder, By, until, WebDriver, Key, Actions } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function keyboardMouseExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    await driver.get('https://example.com');
    
    const actions = new Actions(driver);
    
    // ÈîÆÁõòÊìç‰Ωú
    const inputElement = await driver.findElement(By.css('input[type="text"]'));
    
    // ËæìÂÖ•ÊñáÊú¨
    await inputElement.sendKeys('Hello World');
    
    // ÁªÑÂêàÈîÆÊìç‰Ωú
    await inputElement.sendKeys(Key.CONTROL, 'a'); // ÂÖ®ÈÄâ
    await inputElement.sendKeys(Key.DELETE); // Âà†Èô§
    
    // ÁâπÊÆäÈîÆ
    await inputElement.sendKeys('Text with', Key.ENTER, 'new line');
    
    // Èº†Ê†áÊìç‰Ωú
    const targetElement = await driver.findElement(By.css('.target-element'));
    
    // Èº†Ê†áÊÇ¨ÂÅú
    await actions.move({ origin: targetElement }).perform();
    
    // Èº†Ê†áÁÇπÂáª
    await actions.click(targetElement).perform();
    
    // ÂèåÂáª
    await actions.doubleClick(targetElement).perform();
    
    // Âè≥ÈîÆÁÇπÂáª
    await actions.contextClick(targetElement).perform();
    
    // ÊãñÊãΩÊìç‰Ωú
    const sourceElement = await driver.findElement(By.css('.source-element'));
    const destinationElement = await driver.findElement(By.css('.destination-element'));
    
    await actions
      .dragAndDrop(sourceElement, destinationElement)
      .perform();
    
    // ÊªöÂä®Êìç‰Ωú
    await driver.executeScript('window.scrollTo(0, 500);');
    
    // ÊªöÂä®Âà∞ÂÖÉÁ¥†
    await driver.executeScript('arguments[0].scrollIntoView(true);', targetElement);
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 3. Â§öÁ™óÂè£ÂíåÊ°ÜÊû∂Â§ÑÁêÜ

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

async function multiWindowFrameExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    await driver.get('https://example.com');
    
    // Ëé∑ÂèñÂΩìÂâçÁ™óÂè£Âè•ÊüÑ
    const originalWindow = await driver.getWindowHandle();
    
    // ÊâìÂºÄÊñ∞Á™óÂè£
    await driver.executeScript('window.open("https://google.com", "_blank");');
    
    // Ëé∑ÂèñÊâÄÊúâÁ™óÂè£Âè•ÊüÑ
    const windowHandles = await driver.getAllWindowHandles();
    
    // ÂàáÊç¢Âà∞Êñ∞Á™óÂè£
    for (const handle of windowHandles) {
      if (handle !== originalWindow) {
        await driver.switchTo().window(handle);
        break;
      }
    }
    
    // Âú®Êñ∞Á™óÂè£‰∏≠Êìç‰Ωú
    await driver.findElement(By.name('q')).sendKeys('Selenium WebDriver');
    
    // ÂàáÊç¢ÂõûÂéüÁ™óÂè£
    await driver.switchTo().window(originalWindow);
    
    // Â§ÑÁêÜiframe
    await driver.get('https://example.com/iframe-page');
    
    // ÂàáÊç¢Âà∞iframe
    const iframe = await driver.findElement(By.css('iframe'));
    await driver.switchTo().frame(iframe);
    
    // Âú®iframe‰∏≠Êìç‰Ωú
    await driver.findElement(By.css('.iframe-content')).click();
    
    // ÂàáÊç¢Âõû‰∏ªÊñáÊ°£
    await driver.switchTo().defaultContent();
    
    // ÂÖ≥Èó≠Êñ∞Á™óÂè£
    await driver.switchTo().window(windowHandles[1]);
    await driver.close();
    
    // ÂàáÊç¢ÂõûÂéüÁ™óÂè£
    await driver.switchTo().window(originalWindow);
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 4. Êñá‰ª∂‰∏ä‰º†Âíå‰∏ãËΩΩ

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';
import * as fs from 'fs';
import * as path from 'path';

async function fileUploadDownloadExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    // ËÆæÁΩÆ‰∏ãËΩΩÁõÆÂΩï
    const downloadDir = path.join(process.cwd(), 'downloads');
    if (!fs.existsSync(downloadDir)) {
      fs.mkdirSync(downloadDir);
    }
    
    options.setUserPreferences({
      'download.default_directory': downloadDir,
      'download.prompt_for_download': false,
      'download.directory_upgrade': true,
      'safebrowsing.enabled': true
    });
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // Êñá‰ª∂‰∏ä‰º†Á§∫‰æã
    await driver.get('https://example.com/upload');
    
    const fileInput = await driver.findElement(By.css('input[type="file"]'));
    const filePath = path.join(process.cwd(), 'test-file.txt');
    
    // ÂàõÂª∫ÊµãËØïÊñá‰ª∂
    fs.writeFileSync(filePath, 'This is a test file for upload');
    
    // ‰∏ä‰º†Êñá‰ª∂
    await fileInput.sendKeys(filePath);
    
    // ÁÇπÂáª‰∏ä‰º†ÊåâÈíÆ
    await driver.findElement(By.css('input[type="submit"]')).click();
    
    // Á≠âÂæÖ‰∏ä‰º†ÂÆåÊàê
    await driver.wait(until.elementLocated(By.css('.upload-success')), 10000);
    
    // Êñá‰ª∂‰∏ãËΩΩÁ§∫‰æã
    await driver.get('https://example.com/download');
    
    // ÁÇπÂáª‰∏ãËΩΩÈìæÊé•
    await driver.findElement(By.css('.download-link')).click();
    
    // Á≠âÂæÖ‰∏ãËΩΩÂÆåÊàê
    await new Promise(resolve => setTimeout(resolve, 3000));
    
    // Ê£ÄÊü•‰∏ãËΩΩÁöÑÊñá‰ª∂
    const downloadedFiles = fs.readdirSync(downloadDir);
    console.log('‰∏ãËΩΩÁöÑÊñá‰ª∂:', downloadedFiles);
    
    // Ê∏ÖÁêÜÊµãËØïÊñá‰ª∂
    fs.unlinkSync(filePath);
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 5. Êà™ÂõæÂíåÊó•ÂøóËÆ∞ÂΩï

```typescript
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';
import * as fs from 'fs';

async function screenshotLoggingExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    // ÂêØÁî®Êó•ÂøóËÆ∞ÂΩï
    options.setLoggingPrefs({
      browser: 'ALL',
      driver: 'ALL'
    });
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    await driver.get('https://example.com');
    
    // Ëé∑ÂèñÊµèËßàÂô®Êó•Âøó
    const browserLogs = await driver.manage().logs().get('browser');
    console.log('ÊµèËßàÂô®Êó•Âøó:', browserLogs);
    
    // Ëé∑ÂèñÈ©±Âä®Êó•Âøó
    const driverLogs = await driver.manage().logs().get('driver');
    console.log('È©±Âä®Êó•Âøó:', driverLogs);
    
    // Êà™Âõæ
    const screenshot = await driver.takeScreenshot();
    fs.writeFileSync('full_page_screenshot.png', screenshot, 'base64');
    
    // ÂÖÉÁ¥†Êà™Âõæ
    const element = await driver.findElement(By.css('.target-element'));
    const elementScreenshot = await element.takeScreenshot();
    fs.writeFileSync('element_screenshot.png', elementScreenshot, 'base64');
    
    // È°µÈù¢Ê∫êÁ†Å
    const pageSource = await driver.getPageSource();
    fs.writeFileSync('page_source.html', pageSource);
    
    console.log('‚úÖ Êà™ÂõæÂíåÊó•ÂøóËÆ∞ÂΩïÂÆåÊàê');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

## ÊúÄ‰Ω≥ÂÆûË∑µ

### 1. È°µÈù¢ÂØπË±°Ê®°Âºè (POM)

```typescript
// BasePage.ts
import { WebDriver, By, until } from 'selenium-webdriver';

export abstract class BasePage {
  protected driver: WebDriver;
  
  constructor(driver: WebDriver) {
    this.driver = driver;
  }
  
  abstract getPageUrl(): string;
  
  async navigateTo(): Promise<void> {
    await this.driver.get(this.getPageUrl());
  }
  
  async waitForPageLoad(): Promise<void> {
    await this.driver.wait(until.titleIs(await this.driver.getTitle()), 10000);
  }
  
  async takeScreenshot(filename: string): Promise<void> {
    const screenshot = await this.driver.takeScreenshot();
    const fs = require('fs');
    fs.writeFileSync(filename, screenshot, 'base64');
  }
}

// SearchPage.ts
import { By, until } from 'selenium-webdriver';
import { BasePage } from './BasePage';

export class SearchPage extends BasePage {
  private searchBox = By.id('kw');
  private searchButton = By.id('su');
  private searchResults = By.css('.result');
  
  getPageUrl(): string {
    return 'https://www.baidu.com';
  }
  
  async search(keyword: string): Promise<void> {
    const searchInput = await this.driver.findElement(this.searchBox);
    await searchInput.clear();
    await searchInput.sendKeys(keyword);
    await this.driver.findElement(this.searchButton).click();
  }
  
  async getSearchResults(): Promise<string[]> {
    await this.driver.wait(until.elementLocated(this.searchResults), 10000);
    const results = await this.driver.findElements(this.searchResults);
    
    return Promise.all(
      results.map(async (result) => {
        const titleElement = await result.findElement(By.css('h3'));
        return await titleElement.getText();
      })
    );
  }
}

// ‰ΩøÁî®È°µÈù¢ÂØπË±°
async function pageObjectExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    const searchPage = new SearchPage(driver);
    await searchPage.navigateTo();
    await searchPage.search('Selenium WebDriver');
    
    const results = await searchPage.getSearchResults();
    console.log('ÊêúÁ¥¢ÁªìÊûú:', results);
    
    await searchPage.takeScreenshot('search_results.png');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 2. Êï∞ÊçÆÈ©±Âä®ÊµãËØï

```typescript
// TestData.ts
export interface TestData {
  keyword: string;
  expectedResults: number;
  description: string;
}

export const searchTestData: TestData[] = [
  {
    keyword: 'Selenium WebDriver',
    expectedResults: 5,
    description: 'ÊêúÁ¥¢Selenium WebDriver'
  },
  {
    keyword: 'PythonËá™Âä®Âåñ',
    expectedResults: 3,
    description: 'ÊêúÁ¥¢PythonËá™Âä®Âåñ'
  },
  {
    keyword: 'JavaScriptÊµãËØï',
    expectedResults: 4,
    description: 'ÊêúÁ¥¢JavaScriptÊµãËØï'
  }
];

// DataDrivenTest.ts
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';
import { searchTestData, TestData } from './TestData';

async function dataDrivenSearchTest() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    for (const testData of searchTestData) {
      console.log(`üß™ ÊâßË°åÊµãËØï: ${testData.description}`);
      
      await driver.get('https://www.baidu.com');
      
      const searchBox = await driver.findElement(By.id('kw'));
      await searchBox.clear();
      await searchBox.sendKeys(testData.keyword);
      
      await driver.findElement(By.id('su')).click();
      
      await driver.wait(until.elementLocated(By.css('.result')), 10000);
      
      const results = await driver.findElements(By.css('.result'));
      
      const actualResults = results.length;
      const passed = actualResults >= testData.expectedResults;
      
      console.log(`   ÂÖ≥ÈîÆËØç: ${testData.keyword}`);
      console.log(`   ÊúüÊúõÁªìÊûúÊï∞: ${testData.expectedResults}`);
      console.log(`   ÂÆûÈôÖÁªìÊûúÊï∞: ${actualResults}`);
      console.log(`   ÊµãËØïÁªìÊûú: ${passed ? '‚úÖ ÈÄöËøá' : '‚ùå Â§±Ë¥•'}`);
      console.log('');
      
      // Êà™Âõæ
      const screenshot = await driver.takeScreenshot();
      const fs = require('fs');
      fs.writeFileSync(
        `search_${testData.keyword.replace(/\s+/g, '_')}.png`, 
        screenshot, 
        'base64'
      );
    }
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 3. ÊµãËØïÊ°ÜÊû∂ÈõÜÊàê

```typescript
// SeleniumTestFramework.ts
import { Builder, By, until, WebDriver } from 'selenium-webdriver';
import * as chrome from 'selenium-webdriver/chrome.js';

export class SeleniumTestFramework {
  private driver: WebDriver | null = null;
  private testResults: TestResult[] = [];
  
  async setup(): Promise<void> {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    options.addArguments('--headless'); // Êó†Â§¥Ê®°Âºè
    
    this.driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
  }
  
  async teardown(): Promise<void> {
    if (this.driver) {
      await this.driver.quit();
      this.driver = null;
    }
  }
  
  async runTest(testName: string, testFunction: (driver: WebDriver) => Promise<void>): Promise<void> {
    if (!this.driver) {
      throw new Error('Driver not initialized');
    }
    
    const startTime = Date.now();
    let passed = false;
    let error: Error | null = null;
    
    try {
      await testFunction(this.driver);
      passed = true;
    } catch (err) {
      error = err as Error;
      passed = false;
      
      // Êà™Âõæ
      if (this.driver) {
        const screenshot = await this.driver.takeScreenshot();
        const fs = require('fs');
        fs.writeFileSync(`error_${testName}.png`, screenshot, 'base64');
      }
    }
    
    const duration = Date.now() - startTime;
    
    this.testResults.push({
      name: testName,
      passed,
      duration,
      error: error?.message || null
    });
    
    console.log(`${passed ? '‚úÖ' : '‚ùå'} ${testName} (${duration}ms)`);
    if (error) {
      console.error(`   ÈîôËØØ: ${error.message}`);
    }
  }
  
  getTestResults(): TestResult[] {
    return this.testResults;
  }
  
  generateReport(): void {
    const totalTests = this.testResults.length;
    const passedTests = this.testResults.filter(r => r.passed).length;
    const failedTests = totalTests - passedTests;
    
    console.log('\nüìä ÊµãËØïÊä•Âëä');
    console.log('=' * 50);
    console.log(`ÊÄªÊµãËØïÊï∞: ${totalTests}`);
    console.log(`ÈÄöËøá: ${passedTests}`);
    console.log(`Â§±Ë¥•: ${failedTests}`);
    console.log(`ÊàêÂäüÁéá: ${((passedTests / totalTests) * 100).toFixed(2)}%`);
    
    if (failedTests > 0) {
      console.log('\n‚ùå Â§±Ë¥•ÁöÑÊµãËØï:');
      this.testResults
        .filter(r => !r.passed)
        .forEach(r => {
          console.log(`  - ${r.name}: ${r.error}`);
        });
    }
  }
}

interface TestResult {
  name: string;
  passed: boolean;
  duration: number;
  error: string | null;
}

// ‰ΩøÁî®ÊµãËØïÊ°ÜÊû∂
async function frameworkExample() {
  const framework = new SeleniumTestFramework();
  
  try {
    await framework.setup();
    
    // ËøêË°åÊµãËØï
    await framework.runTest('ÁôæÂ∫¶ÊêúÁ¥¢ÊµãËØï', async (driver) => {
      await driver.get('https://www.baidu.com');
      await driver.findElement(By.id('kw')).sendKeys('Selenium');
      await driver.findElement(By.id('su')).click();
      await driver.wait(until.elementLocated(By.css('.result')), 10000);
    });
    
    await framework.runTest('Ë°®ÂçïÂ°´ÂÜôÊµãËØï', async (driver) => {
      await driver.get('https://httpbin.org/forms/post');
      await driver.findElement(By.name('custname')).sendKeys('Test User');
      await driver.findElement(By.css('input[type="submit"]')).click();
      await driver.wait(until.elementLocated(By.tagName('pre')), 10000);
    });
    
    // ÁîüÊàêÊä•Âëä
    framework.generateReport();
    
  } finally {
    await framework.teardown();
  }
}
```

## ÊïÖÈöúÊéíÈô§

### 1. Â∏∏ËßÅÈîôËØØÂèäËß£ÂÜ≥ÊñπÊ°à

```typescript
// 1. WebDriverÂêØÂä®Â§±Ë¥•
async function handleWebDriverError() {
  try {
    const driver = await new Builder()
      .forBrowser('chrome')
      .build();
  } catch (error) {
    console.error('WebDriverÂêØÂä®Â§±Ë¥•:', error);
    
    // Ëß£ÂÜ≥ÊñπÊ°à1: Ê£ÄÊü•ChromeDriverË∑ØÂæÑ
    const driver = await new Builder()
      .forBrowser('chrome')
      .setChromeService(new chrome.ServiceBuilder('/path/to/chromedriver'))
      .build();
    
    // Ëß£ÂÜ≥ÊñπÊ°à2: ‰ΩøÁî®Á≥ªÁªüChromeDriver
    const driver = await new Builder()
      .forBrowser('chrome')
      .build();
  }
}

// 2. ÂÖÉÁ¥†ÂÆö‰ΩçÂ§±Ë¥•
async function handleElementNotFound(driver: WebDriver) {
  try {
    await driver.findElement(By.id('non-existent-element'));
  } catch (error) {
    console.error('ÂÖÉÁ¥†Êú™ÊâæÂà∞:', error);
    
    // Ëß£ÂÜ≥ÊñπÊ°à1: ‰ΩøÁî®ÊòæÂºèÁ≠âÂæÖ
    await driver.wait(until.elementLocated(By.id('non-existent-element')), 10000);
    
    // Ëß£ÂÜ≥ÊñπÊ°à2: ‰ΩøÁî®JavaScriptÊü•Êâæ
    const element = await driver.executeScript(
      'return document.getElementById("non-existent-element");'
    );
    
    // Ëß£ÂÜ≥ÊñπÊ°à3: ‰ΩøÁî®Êõ¥ÁÅµÊ¥ªÁöÑÈÄâÊã©Âô®
    const elements = await driver.findElements(By.css('[data-testid*="element"]'));
  }
}

// 3. È°µÈù¢Âä†ËΩΩË∂ÖÊó∂
async function handlePageLoadTimeout(driver: WebDriver) {
  try {
    await driver.get('https://slow-loading-site.com');
  } catch (error) {
    console.error('È°µÈù¢Âä†ËΩΩË∂ÖÊó∂:', error);
    
    // Ëß£ÂÜ≥ÊñπÊ°à1: Â¢ûÂä†È°µÈù¢Âä†ËΩΩË∂ÖÊó∂
    await driver.manage().setTimeouts({ pageLoad: 60000 });
    await driver.get('https://slow-loading-site.com');
    
    // Ëß£ÂÜ≥ÊñπÊ°à2: ‰ΩøÁî®JavaScriptÊ£ÄÊü•È°µÈù¢Áä∂ÊÄÅ
    await driver.executeScript(`
      return new Promise((resolve) => {
        if (document.readyState === 'complete') {
          resolve();
        } else {
          window.addEventListener('load', resolve);
        }
      });
    `);
  }
}
```

### 2. ÊÄßËÉΩ‰ºòÂåñ

```typescript
async function optimizedSeleniumExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    
    // ÊÄßËÉΩ‰ºòÂåñÈÄâÈ°π
    options.addArguments(
      '--no-sandbox',
      '--disable-dev-shm-usage',
      '--disable-gpu',
      '--disable-background-timer-throttling',
      '--disable-backgrounding-occluded-windows',
      '--disable-renderer-backgrounding',
      '--disable-features=TranslateUI',
      '--disable-ipc-flooding-protection',
      '--memory-pressure-off',
      '--max_old_space_size=4096'
    );
    
    // Á¶ÅÁî®ÂõæÁâáÂíåCSSÂä†ËΩΩ
    options.addArguments('--blink-settings=imagesEnabled=false');
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ËÆæÁΩÆÈ°µÈù¢Âä†ËΩΩÁ≠ñÁï•
    await driver.manage().setTimeouts({
      pageLoad: 30000,
      script: 30000,
      implicit: 10000
    });
    
    // Á¶ÅÁî®ÂõæÁâáÂä†ËΩΩ
    await driver.executeScript(`
      const images = document.querySelectorAll('img');
      images.forEach(img => img.style.display = 'none');
    `);
    
    await driver.get('https://example.com');
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

### 3. Ë∞ÉËØïÊäÄÂ∑ß

```typescript
async function debugSeleniumExample() {
  let driver: WebDriver;
  
  try {
    const options = new chrome.Options();
    options.addArguments('--no-sandbox');
    
    // ÂêØÁî®ËØ¶ÁªÜÊó•Âøó
    options.setLoggingPrefs({
      browser: 'ALL',
      driver: 'ALL'
    });
    
    driver = await new Builder()
      .forBrowser('chrome')
      .setChromeOptions(options)
      .build();
    
    // ÁõëÂê¨ÊéßÂà∂Âè∞Êó•Âøó
    const logs = await driver.manage().logs();
    logs.get('browser').then((browserLogs) => {
      browserLogs.forEach((log) => {
        console.log('ÊµèËßàÂô®Êó•Âøó:', log.message);
      });
    });
    
    // Ê∑ªÂä†Ë∞ÉËØï‰ø°ÊÅØ
    await driver.executeScript(`
      console.log('È°µÈù¢URL:', window.location.href);
      console.log('È°µÈù¢Ê†áÈ¢ò:', document.title);
      console.log('DOMÂÖÉÁ¥†Êï∞Èáè:', document.querySelectorAll('*').length);
    `);
    
    // È´ò‰∫ÆÂÖÉÁ¥†
    await driver.executeScript(`
      const element = document.querySelector('.target-element');
      if (element) {
        element.style.border = '3px solid red';
        element.style.backgroundColor = 'yellow';
      }
    `);
    
    await driver.get('https://example.com');
    
    // ÊöÇÂÅúÊâßË°åÔºàË∞ÉËØïÁî®Ôºâ
    await new Promise(resolve => setTimeout(resolve, 5000));
    
  } finally {
    if (driver) {
      await driver.quit();
    }
  }
}
```

## ÊÄªÁªì

Êú¨ÊïôÁ®ãÂü∫‰∫éSteel-BrowserÈ°πÁõÆÁöÑÂÆûÈôÖ‰ª£Á†ÅÔºåËØ¶ÁªÜ‰ªãÁªç‰∫ÜSelenium WebDriverÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇÈÄöËøáÂ≠¶‰π†Êú¨ÊïôÁ®ãÔºåÊÇ®Â∫îËØ•ËÉΩÂ§üÔºö

1. **ÁéØÂ¢ÉÊê≠Âª∫**: Ê≠£Á°ÆÂÆâË£ÖÂíåÈÖçÁΩÆSelenium WebDriverÂºÄÂèëÁéØÂ¢É
2. **Âü∫Á°ÄÊìç‰Ωú**: ÊéåÊè°ÊµèËßàÂô®ÂêØÂä®„ÄÅÈ°µÈù¢ÂØºËà™„ÄÅÂÖÉÁ¥†Êìç‰ΩúÁ≠âÂü∫Á°ÄÂäüËÉΩ
3. **È´òÁ∫ßÁâπÊÄß**: ‰∫ÜËß£Á≠âÂæÖÁ≠ñÁï•„ÄÅÈîÆÁõòÈº†Ê†áÊìç‰Ωú„ÄÅÂ§öÁ™óÂè£Â§ÑÁêÜÁ≠âÈ´òÁ∫ßÂäüËÉΩ
4. **ÊúÄ‰Ω≥ÂÆûË∑µ**: Â≠¶‰ºöÈ°µÈù¢ÂØπË±°Ê®°Âºè„ÄÅÊï∞ÊçÆÈ©±Âä®ÊµãËØï„ÄÅÊµãËØïÊ°ÜÊû∂ÈõÜÊàêÁ≠âÊúÄ‰Ω≥ÂÆûË∑µ
5. **ÊïÖÈöúÊéíÈô§**: ÊéåÊè°Â∏∏ËßÅÈóÆÈ¢òÁöÑËØäÊñ≠ÂíåËß£ÂÜ≥ÊñπÊ≥ï

Selenium WebDriverÊòØ‰∏Ä‰∏™ÊàêÁÜüÁöÑÊµèËßàÂô®Ëá™Âä®ÂåñÂ∑•ÂÖ∑ÔºåÁªìÂêàSteel-BrowserÈ°πÁõÆÁöÑÊû∂ÊûÑÔºåÂèØ‰ª•ÊûÑÂª∫Âá∫ÂäüËÉΩÂº∫Â§ß„ÄÅÁ®≥ÂÆöÂèØÈù†ÁöÑWebËá™Âä®ÂåñÊµãËØïËß£ÂÜ≥ÊñπÊ°à„ÄÇ